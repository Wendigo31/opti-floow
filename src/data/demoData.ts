// Demo data for each plan type
import type { Driver, FixedCharge, VehicleParams, TripCalculation, AppSettings } from '@/types';
import type { LocalClient, LocalClientReport, LocalTrip } from '@/types/local';
import type { Vehicle } from '@/types/vehicle';
import type { Trailer } from '@/types/trailer';
import type { SavedTour } from '@/types/savedTour';
import { 
  startDemoVehicles, startDemoTrailers,
  proDemoVehicles, proDemoTrailers,
  enterpriseDemoVehicles, enterpriseDemoTrailers 
} from './demoVehiclesData';
import { startDemoSavedTours, proDemoSavedTours, enterpriseDemoSavedTours } from './demoSavedTours';

export interface DemoSession {
  id: string;
  name: string;
  description: string;
  planType: 'start' | 'pro' | 'enterprise';
  drivers: Driver[];
  charges: FixedCharge[];
  vehicle: VehicleParams;
  trip: TripCalculation;
  settings: AppSettings;
  clients: LocalClient[];
  reports: LocalClientReport[];
  trips: LocalTrip[];
  selectedDriverIds: string[];
  vehicles: Vehicle[];
  trailers: Trailer[];
  savedTours: SavedTour[];
}

// START Plan Demo - Artisan transporteur individuel
const startDemoDrivers: Driver[] = [
  {
    id: 'demo-start-driver-1',
    name: 'Michel Durand',
    baseSalary: 2100,
    hourlyRate: 12.00,
    hoursPerDay: 10,
    patronalCharges: 42,
    mealAllowance: 15.20,
    overnightAllowance: 43,
    workingDaysPerMonth: 21,
    sundayBonus: 0,
    nightBonus: 0,
    seniorityBonus: 50,
  },
];

const startDemoCharges: FixedCharge[] = [
  { id: 'demo-start-charge-1', name: 'Assurance véhicule', amount: 4200, isHT: false, periodicity: 'yearly', category: 'insurance' },
  { id: 'demo-start-charge-2', name: 'Crédit-bail camion Renault T', amount: 1650, isHT: false, periodicity: 'monthly', category: 'leasing' },
  { id: 'demo-start-charge-3', name: 'Comptable', amount: 150, isHT: true, periodicity: 'monthly', category: 'administrative' },
  { id: 'demo-start-charge-4', name: 'Entretien véhicule', amount: 180, isHT: true, periodicity: 'monthly', category: 'maintenance' },
];

const startDemoClients: LocalClient[] = [
  {
    id: 'demo-start-client-1',
    name: 'Dupont SA',
    company: 'Dupont Matériaux',
    email: 'contact@dupont-materiaux.fr',
    phone: '04 72 45 67 89',
    address: '45 Zone Industrielle Nord',
    city: 'Lyon',
    postal_code: '69000',
    siret: '123 456 789 00012',
    notes: 'Client fidèle depuis 3 ans',
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  },
  {
    id: 'demo-start-client-2',
    name: 'Martin & Fils',
    company: 'Transport Martin',
    email: 'commandes@martin-fils.fr',
    phone: '04 78 12 34 56',
    address: '12 Rue des Artisans',
    city: 'Villeurbanne',
    postal_code: '69100',
    siret: '987 654 321 00045',
    notes: 'Affrètement régulier',
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  },
];

const startDemoReports: LocalClientReport[] = [
  {
    id: 'demo-start-report-1',
    client_id: 'demo-start-client-1',
    report_type: 'itinerary',
    title: 'Lyon → Marseille - Palettes',
    data: {
      origin_address: 'Lyon, France',
      destination_address: 'Marseille, France',
      distance_km: 315,
      duration_hours: 3.5,
      toll_cost: 42,
      fuel_cost: 145,
      total_cost: 520,
      revenue: 680,
      profit: 160,
      profit_margin: 23.5,
    },
    notes: 'Livraison matériaux de construction',
    created_at: new Date().toISOString(),
  },
];

// Start demo trips - historique des trajets
const startDemoTrips: LocalTrip[] = [
  {
    id: 'demo-start-trip-1',
    client_id: 'demo-start-client-1',
    origin_address: 'Lyon, France',
    destination_address: 'Marseille, France',
    origin_lat: 45.764043,
    origin_lng: 4.835659,
    destination_lat: 43.296482,
    destination_lng: 5.369780,
    distance_km: 315,
    duration_minutes: 210,
    fuel_cost: 145,
    toll_cost: 42,
    driver_cost: 280,
    adblue_cost: 12,
    structure_cost: 41,
    total_cost: 520,
    revenue: 680,
    profit: 160,
    profit_margin: 23.5,
    trip_date: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),
    status: 'completed',
    notes: 'Livraison palettes matériaux',
    stops: null,
    vehicle_data: null,
    driver_ids: ['demo-start-driver-1'],
    created_at: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),
    updated_at: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'demo-start-trip-2',
    client_id: 'demo-start-client-2',
    origin_address: 'Lyon, France',
    destination_address: 'Grenoble, France',
    origin_lat: 45.764043,
    origin_lng: 4.835659,
    destination_lat: 45.188529,
    destination_lng: 5.724524,
    distance_km: 115,
    duration_minutes: 75,
    fuel_cost: 53,
    toll_cost: 12,
    driver_cost: 105,
    adblue_cost: 5,
    structure_cost: 15,
    total_cost: 190,
    revenue: 280,
    profit: 90,
    profit_margin: 32.1,
    trip_date: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(),
    status: 'completed',
    notes: 'Affrètement régulier',
    stops: null,
    vehicle_data: null,
    driver_ids: ['demo-start-driver-1'],
    created_at: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(),
    updated_at: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'demo-start-trip-3',
    client_id: 'demo-start-client-1',
    origin_address: 'Lyon, France',
    destination_address: 'Paris, France',
    origin_lat: 45.764043,
    origin_lng: 4.835659,
    destination_lat: 48.856614,
    destination_lng: 2.352222,
    distance_km: 465,
    duration_minutes: 270,
    fuel_cost: 214,
    toll_cost: 68,
    driver_cost: 350,
    adblue_cost: 18,
    structure_cost: 60,
    total_cost: 710,
    revenue: 920,
    profit: 210,
    profit_margin: 22.8,
    trip_date: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(),
    status: 'completed',
    notes: 'Livraison express',
    stops: null,
    vehicle_data: null,
    driver_ids: ['demo-start-driver-1'],
    created_at: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(),
    updated_at: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(),
  },
];

// PRO Plan Demo - PME Transport 5-10 véhicules
const proDemoDrivers: Driver[] = [
  {
    id: 'demo-pro-driver-1',
    name: 'Jean-Pierre Martin',
    baseSalary: 2400,
    hourlyRate: 13.50,
    hoursPerDay: 10,
    patronalCharges: 45,
    mealAllowance: 15.20,
    overnightAllowance: 45,
    workingDaysPerMonth: 21,
    sundayBonus: 50,
    nightBonus: 25,
    seniorityBonus: 100,
  },
  {
    id: 'demo-pro-driver-2',
    name: 'Alexandre Dubois',
    baseSalary: 2200,
    hourlyRate: 12.50,
    hoursPerDay: 10,
    patronalCharges: 45,
    mealAllowance: 15.20,
    overnightAllowance: 45,
    workingDaysPerMonth: 21,
    sundayBonus: 50,
    nightBonus: 0,
    seniorityBonus: 50,
  },
  {
    id: 'demo-pro-driver-3',
    name: 'Sophie Leroy',
    baseSalary: 2300,
    hourlyRate: 13.00,
    hoursPerDay: 10,
    patronalCharges: 45,
    mealAllowance: 15.20,
    overnightAllowance: 45,
    workingDaysPerMonth: 21,
    sundayBonus: 0,
    nightBonus: 30,
    seniorityBonus: 75,
  },
  {
    id: 'demo-pro-driver-4',
    name: 'Thomas Bernard',
    baseSalary: 2150,
    hourlyRate: 12.00,
    hoursPerDay: 10,
    patronalCharges: 45,
    mealAllowance: 15.20,
    overnightAllowance: 45,
    workingDaysPerMonth: 21,
    sundayBonus: 0,
    nightBonus: 0,
    seniorityBonus: 0,
  },
  {
    id: 'demo-pro-driver-5',
    name: 'Marie Petit',
    baseSalary: 2250,
    hourlyRate: 12.75,
    hoursPerDay: 10,
    patronalCharges: 45,
    mealAllowance: 15.20,
    overnightAllowance: 45,
    workingDaysPerMonth: 21,
    sundayBonus: 25,
    nightBonus: 0,
    seniorityBonus: 25,
  },
];

const proDemoCharges: FixedCharge[] = [
  { id: 'demo-pro-charge-1', name: 'Assurance flotte (5 véhicules)', amount: 18500, isHT: false, periodicity: 'yearly', category: 'insurance' },
  { id: 'demo-pro-charge-2', name: 'Crédit-bail Volvo FH', amount: 2100, isHT: false, periodicity: 'monthly', category: 'leasing' },
  { id: 'demo-pro-charge-3', name: 'Crédit-bail Renault T480', amount: 1850, isHT: false, periodicity: 'monthly', category: 'leasing' },
  { id: 'demo-pro-charge-4', name: 'Crédit-bail DAF XF', amount: 1950, isHT: false, periodicity: 'monthly', category: 'leasing' },
  { id: 'demo-pro-charge-5', name: 'Location locaux', amount: 1800, isHT: true, periodicity: 'monthly', category: 'other' },
  { id: 'demo-pro-charge-6', name: 'Expert-comptable', amount: 450, isHT: true, periodicity: 'monthly', category: 'administrative' },
  { id: 'demo-pro-charge-7', name: 'Logiciel gestion', amount: 89, isHT: true, periodicity: 'monthly', category: 'administrative' },
  { id: 'demo-pro-charge-8', name: 'Entretien flotte', amount: 650, isHT: true, periodicity: 'monthly', category: 'maintenance' },
  { id: 'demo-pro-charge-9', name: 'Contrôle technique annuel', amount: 850, isHT: true, periodicity: 'yearly', category: 'maintenance' },
  { id: 'demo-pro-charge-10', name: 'Formation conducteurs', amount: 2400, isHT: true, periodicity: 'yearly', category: 'administrative' },
];

const proDemoClients: LocalClient[] = [
  {
    id: 'demo-pro-client-1',
    name: 'Carrefour Logistique',
    company: 'Carrefour Supply Chain',
    email: 'transport@carrefour.fr',
    phone: '01 45 67 89 01',
    address: '15 Avenue des Transports',
    city: 'Paris',
    postal_code: '75012',
    siret: '456 789 123 00089',
    notes: 'Contrat cadre annuel - volumes réguliers',
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  },
  {
    id: 'demo-pro-client-2',
    name: 'Michelin Clermont',
    company: 'Michelin France',
    email: 'logistics@michelin.com',
    phone: '04 73 98 76 54',
    address: 'Zone Industrielle Ladoux',
    city: 'Clermont-Ferrand',
    postal_code: '63000',
    siret: '789 123 456 00123',
    notes: 'Transport pneumatiques - haute valeur',
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  },
  {
    id: 'demo-pro-client-3',
    name: 'Brico Dépôt Lyon',
    company: 'Brico Dépôt',
    email: 'livraison@bricodepot.fr',
    phone: '04 78 54 32 10',
    address: '78 Route de Vienne',
    city: 'Lyon',
    postal_code: '69007',
    siret: '321 654 987 00056',
    notes: 'Livraisons matériaux lourds',
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  },
  {
    id: 'demo-pro-client-4',
    name: 'Auchan Centrale',
    company: 'Auchan Retail',
    email: 'transport@auchan.fr',
    phone: '03 20 45 67 89',
    address: '200 Rue de la Recherche',
    city: 'Villeneuve-d\'Ascq',
    postal_code: '59650',
    siret: '654 987 321 00078',
    notes: 'Affrètement spot - forte saisonnalité',
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  },
  {
    id: 'demo-pro-client-5',
    name: 'SNCF Logistics',
    company: 'SNCF Réseau',
    email: 'routier@sncf.fr',
    phone: '01 53 25 70 00',
    address: '2 Place aux Étoiles',
    city: 'Saint-Denis',
    postal_code: '93200',
    siret: '987 321 654 00034',
    notes: 'Transport dernier kilomètre - pièces techniques',
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  },
];

const proDemoReports: LocalClientReport[] = [
  {
    id: 'demo-pro-report-1',
    client_id: 'demo-pro-client-1',
    report_type: 'itinerary',
    title: 'Paris → Lyon - Distribution',
    data: {
      origin_address: 'Paris, France',
      destination_address: 'Lyon, France',
      distance_km: 465,
      duration_hours: 4.5,
      toll_cost: 68,
      fuel_cost: 214,
      total_cost: 780,
      revenue: 980,
      profit: 200,
      profit_margin: 20.4,
    },
    notes: 'Distribution régulière Carrefour',
    created_at: new Date().toISOString(),
  },
  {
    id: 'demo-pro-report-2',
    client_id: 'demo-pro-client-2',
    report_type: 'itinerary',
    title: 'Clermont-Ferrand → Bordeaux',
    data: {
      origin_address: 'Clermont-Ferrand, France',
      destination_address: 'Bordeaux, France',
      distance_km: 380,
      duration_hours: 4.2,
      toll_cost: 52,
      fuel_cost: 175,
      total_cost: 650,
      revenue: 850,
      profit: 200,
      profit_margin: 23.5,
    },
    notes: 'Pneumatiques Michelin',
    created_at: new Date().toISOString(),
  },
  {
    id: 'demo-pro-report-3',
    client_id: 'demo-pro-client-3',
    report_type: 'itinerary',
    title: 'Lyon → Marseille - Matériaux',
    data: {
      origin_address: 'Lyon, France',
      destination_address: 'Marseille, France',
      distance_km: 315,
      duration_hours: 3.5,
      toll_cost: 42,
      fuel_cost: 145,
      total_cost: 520,
      revenue: 720,
      profit: 200,
      profit_margin: 27.8,
    },
    notes: 'Livraison Brico Dépôt',
    created_at: new Date().toISOString(),
  },
];

// Pro demo trips - historique des trajets
const proDemoTrips: LocalTrip[] = [
  {
    id: 'demo-pro-trip-1',
    client_id: 'demo-pro-client-1',
    origin_address: 'Paris, France',
    destination_address: 'Lyon, France',
    origin_lat: 48.856614,
    origin_lng: 2.352222,
    destination_lat: 45.764043,
    destination_lng: 4.835659,
    distance_km: 465,
    duration_minutes: 270,
    fuel_cost: 214,
    toll_cost: 68,
    driver_cost: 350,
    adblue_cost: 18,
    structure_cost: 130,
    total_cost: 780,
    revenue: 980,
    profit: 200,
    profit_margin: 20.4,
    trip_date: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),
    status: 'completed',
    notes: 'Distribution régulière Carrefour',
    stops: null,
    vehicle_data: null,
    driver_ids: ['demo-pro-driver-1'],
    created_at: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),
    updated_at: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'demo-pro-trip-2',
    client_id: 'demo-pro-client-2',
    origin_address: 'Clermont-Ferrand, France',
    destination_address: 'Bordeaux, France',
    origin_lat: 45.777222,
    origin_lng: 3.087025,
    destination_lat: 44.837789,
    destination_lng: -0.579180,
    distance_km: 380,
    duration_minutes: 252,
    fuel_cost: 175,
    toll_cost: 52,
    driver_cost: 320,
    adblue_cost: 15,
    structure_cost: 88,
    total_cost: 650,
    revenue: 850,
    profit: 200,
    profit_margin: 23.5,
    trip_date: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
    status: 'completed',
    notes: 'Pneumatiques Michelin',
    stops: null,
    vehicle_data: null,
    driver_ids: ['demo-pro-driver-2'],
    created_at: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
    updated_at: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'demo-pro-trip-3',
    client_id: 'demo-pro-client-3',
    origin_address: 'Lyon, France',
    destination_address: 'Marseille, France',
    origin_lat: 45.764043,
    origin_lng: 4.835659,
    destination_lat: 43.296482,
    destination_lng: 5.369780,
    distance_km: 315,
    duration_minutes: 210,
    fuel_cost: 145,
    toll_cost: 42,
    driver_cost: 260,
    adblue_cost: 12,
    structure_cost: 61,
    total_cost: 520,
    revenue: 720,
    profit: 200,
    profit_margin: 27.8,
    trip_date: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000).toISOString(),
    status: 'completed',
    notes: 'Livraison Brico Dépôt',
    stops: null,
    vehicle_data: null,
    driver_ids: ['demo-pro-driver-3'],
    created_at: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000).toISOString(),
    updated_at: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'demo-pro-trip-4',
    client_id: 'demo-pro-client-4',
    origin_address: 'Lille, France',
    destination_address: 'Nantes, France',
    origin_lat: 50.629250,
    origin_lng: 3.057256,
    destination_lat: 47.218371,
    destination_lng: -1.553621,
    distance_km: 580,
    duration_minutes: 330,
    fuel_cost: 267,
    toll_cost: 82,
    driver_cost: 420,
    adblue_cost: 23,
    structure_cost: 128,
    total_cost: 920,
    revenue: 1180,
    profit: 260,
    profit_margin: 22.0,
    trip_date: new Date(Date.now() - 6 * 24 * 60 * 60 * 1000).toISOString(),
    status: 'completed',
    notes: 'Affrètement Auchan',
    stops: null,
    vehicle_data: null,
    driver_ids: ['demo-pro-driver-4'],
    created_at: new Date(Date.now() - 6 * 24 * 60 * 60 * 1000).toISOString(),
    updated_at: new Date(Date.now() - 6 * 24 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'demo-pro-trip-5',
    client_id: 'demo-pro-client-5',
    origin_address: 'Paris, France',
    destination_address: 'Strasbourg, France',
    origin_lat: 48.856614,
    origin_lng: 2.352222,
    destination_lat: 48.573405,
    destination_lng: 7.752111,
    distance_km: 490,
    duration_minutes: 295,
    fuel_cost: 226,
    toll_cost: 58,
    driver_cost: 375,
    adblue_cost: 19,
    structure_cost: 112,
    total_cost: 790,
    revenue: 1020,
    profit: 230,
    profit_margin: 22.5,
    trip_date: new Date(Date.now() - 8 * 24 * 60 * 60 * 1000).toISOString(),
    status: 'completed',
    notes: 'Pièces techniques SNCF',
    stops: null,
    vehicle_data: null,
    driver_ids: ['demo-pro-driver-5'],
    created_at: new Date(Date.now() - 8 * 24 * 60 * 60 * 1000).toISOString(),
    updated_at: new Date(Date.now() - 8 * 24 * 60 * 60 * 1000).toISOString(),
  },
];

// ENTERPRISE Plan Demo - Grande entreprise multi-agences
const enterpriseDemoDrivers: Driver[] = [
  // Agence Paris
  {
    id: 'demo-ent-driver-1',
    name: 'Philippe Moreau (Paris)',
    baseSalary: 2600,
    hourlyRate: 14.50,
    hoursPerDay: 10,
    patronalCharges: 47,
    mealAllowance: 15.20,
    overnightAllowance: 48,
    workingDaysPerMonth: 21,
    sundayBonus: 75,
    nightBonus: 35,
    seniorityBonus: 150,
  },
  {
    id: 'demo-ent-driver-2',
    name: 'François Lambert (Paris)',
    baseSalary: 2450,
    hourlyRate: 13.80,
    hoursPerDay: 10,
    patronalCharges: 47,
    mealAllowance: 15.20,
    overnightAllowance: 48,
    workingDaysPerMonth: 21,
    sundayBonus: 50,
    nightBonus: 25,
    seniorityBonus: 100,
  },
  {
    id: 'demo-ent-driver-3',
    name: 'Antoine Girard (Paris)',
    baseSalary: 2350,
    hourlyRate: 13.25,
    hoursPerDay: 10,
    patronalCharges: 47,
    mealAllowance: 15.20,
    overnightAllowance: 48,
    workingDaysPerMonth: 21,
    sundayBonus: 50,
    nightBonus: 0,
    seniorityBonus: 75,
  },
  // Agence Lyon
  {
    id: 'demo-ent-driver-4',
    name: 'Julien Roux (Lyon)',
    baseSalary: 2500,
    hourlyRate: 14.00,
    hoursPerDay: 10,
    patronalCharges: 47,
    mealAllowance: 15.20,
    overnightAllowance: 48,
    workingDaysPerMonth: 21,
    sundayBonus: 60,
    nightBonus: 30,
    seniorityBonus: 125,
  },
  {
    id: 'demo-ent-driver-5',
    name: 'Stéphane Vincent (Lyon)',
    baseSalary: 2400,
    hourlyRate: 13.50,
    hoursPerDay: 10,
    patronalCharges: 47,
    mealAllowance: 15.20,
    overnightAllowance: 48,
    workingDaysPerMonth: 21,
    sundayBonus: 50,
    nightBonus: 25,
    seniorityBonus: 100,
  },
  {
    id: 'demo-ent-driver-6',
    name: 'David Mercier (Lyon)',
    baseSalary: 2300,
    hourlyRate: 13.00,
    hoursPerDay: 10,
    patronalCharges: 47,
    mealAllowance: 15.20,
    overnightAllowance: 48,
    workingDaysPerMonth: 21,
    sundayBonus: 0,
    nightBonus: 0,
    seniorityBonus: 50,
  },
  // Agence Marseille
  {
    id: 'demo-ent-driver-7',
    name: 'Nicolas Blanc (Marseille)',
    baseSalary: 2450,
    hourlyRate: 13.75,
    hoursPerDay: 10,
    patronalCharges: 47,
    mealAllowance: 15.20,
    overnightAllowance: 48,
    workingDaysPerMonth: 21,
    sundayBonus: 60,
    nightBonus: 30,
    seniorityBonus: 100,
  },
  {
    id: 'demo-ent-driver-8',
    name: 'Christophe Faure (Marseille)',
    baseSalary: 2350,
    hourlyRate: 13.25,
    hoursPerDay: 10,
    patronalCharges: 47,
    mealAllowance: 15.20,
    overnightAllowance: 48,
    workingDaysPerMonth: 21,
    sundayBonus: 50,
    nightBonus: 0,
    seniorityBonus: 75,
  },
  // Agence Lille
  {
    id: 'demo-ent-driver-9',
    name: 'Benoît Simon (Lille)',
    baseSalary: 2400,
    hourlyRate: 13.50,
    hoursPerDay: 10,
    patronalCharges: 47,
    mealAllowance: 15.20,
    overnightAllowance: 48,
    workingDaysPerMonth: 21,
    sundayBonus: 50,
    nightBonus: 25,
    seniorityBonus: 100,
  },
  {
    id: 'demo-ent-driver-10',
    name: 'Guillaume Laurent (Lille)',
    baseSalary: 2300,
    hourlyRate: 13.00,
    hoursPerDay: 10,
    patronalCharges: 47,
    mealAllowance: 15.20,
    overnightAllowance: 48,
    workingDaysPerMonth: 21,
    sundayBonus: 0,
    nightBonus: 0,
    seniorityBonus: 50,
  },
  {
    id: 'demo-ent-driver-11',
    name: 'Pierre Lefebvre (Lille)',
    baseSalary: 2250,
    hourlyRate: 12.75,
    hoursPerDay: 10,
    patronalCharges: 47,
    mealAllowance: 15.20,
    overnightAllowance: 48,
    workingDaysPerMonth: 21,
    sundayBonus: 0,
    nightBonus: 0,
    seniorityBonus: 25,
  },
  {
    id: 'demo-ent-driver-12',
    name: 'Mathieu Dupuis (Lille)',
    baseSalary: 2200,
    hourlyRate: 12.50,
    hoursPerDay: 10,
    patronalCharges: 47,
    mealAllowance: 15.20,
    overnightAllowance: 48,
    workingDaysPerMonth: 21,
    sundayBonus: 0,
    nightBonus: 0,
    seniorityBonus: 0,
  },
];

const enterpriseDemoCharges: FixedCharge[] = [
  // Assurances flotte
  { id: 'demo-ent-charge-1', name: 'Assurance flotte complète (25 véhicules)', amount: 85000, isHT: false, periodicity: 'yearly', category: 'insurance' },
  { id: 'demo-ent-charge-2', name: 'RC Pro entreprise', amount: 12000, isHT: false, periodicity: 'yearly', category: 'insurance' },
  // Crédits-bail
  { id: 'demo-ent-charge-3', name: 'Crédit-bail Volvo FH x5', amount: 10500, isHT: false, periodicity: 'monthly', category: 'leasing' },
  { id: 'demo-ent-charge-4', name: 'Crédit-bail Scania R x4', amount: 9200, isHT: false, periodicity: 'monthly', category: 'leasing' },
  { id: 'demo-ent-charge-5', name: 'Crédit-bail DAF XF x6', amount: 11400, isHT: false, periodicity: 'monthly', category: 'leasing' },
  { id: 'demo-ent-charge-6', name: 'Crédit-bail MAN TGX x5', amount: 9500, isHT: false, periodicity: 'monthly', category: 'leasing' },
  { id: 'demo-ent-charge-7', name: 'Crédit-bail Renault T x5', amount: 8750, isHT: false, periodicity: 'monthly', category: 'leasing' },
  // Locaux
  { id: 'demo-ent-charge-8', name: 'Location siège Paris', amount: 4500, isHT: true, periodicity: 'monthly', category: 'other' },
  { id: 'demo-ent-charge-9', name: 'Location agence Lyon', amount: 2800, isHT: true, periodicity: 'monthly', category: 'other' },
  { id: 'demo-ent-charge-10', name: 'Location agence Marseille', amount: 2400, isHT: true, periodicity: 'monthly', category: 'other' },
  { id: 'demo-ent-charge-11', name: 'Location agence Lille', amount: 2200, isHT: true, periodicity: 'monthly', category: 'other' },
  // Administratif
  { id: 'demo-ent-charge-12', name: 'Cabinet comptable', amount: 1500, isHT: true, periodicity: 'monthly', category: 'administrative' },
  { id: 'demo-ent-charge-13', name: 'TMS (Transport Management System)', amount: 890, isHT: true, periodicity: 'monthly', category: 'administrative' },
  { id: 'demo-ent-charge-14', name: 'ERP SAP Business One', amount: 650, isHT: true, periodicity: 'monthly', category: 'administrative' },
  { id: 'demo-ent-charge-15', name: 'Standard téléphonique', amount: 450, isHT: true, periodicity: 'monthly', category: 'administrative' },
  // Maintenance
  { id: 'demo-ent-charge-16', name: 'Contrat maintenance flotte', amount: 3200, isHT: true, periodicity: 'monthly', category: 'maintenance' },
  { id: 'demo-ent-charge-17', name: 'Pneus et gommes', amount: 1800, isHT: true, periodicity: 'monthly', category: 'maintenance' },
  { id: 'demo-ent-charge-18', name: 'Contrôles techniques annuels', amount: 4500, isHT: true, periodicity: 'yearly', category: 'maintenance' },
  { id: 'demo-ent-charge-19', name: 'Chronotachygraphes', amount: 2400, isHT: true, periodicity: 'yearly', category: 'maintenance' },
  // Formation
  { id: 'demo-ent-charge-20', name: 'Formation continue FCOS', amount: 15000, isHT: true, periodicity: 'yearly', category: 'administrative' },
  { id: 'demo-ent-charge-21', name: 'Permis ADR (matières dangereuses)', amount: 4800, isHT: true, periodicity: 'yearly', category: 'administrative' },
];

const enterpriseDemoClients: LocalClient[] = [
  // Grands comptes
  {
    id: 'demo-ent-client-1',
    name: 'Amazon Logistics France',
    company: 'Amazon EU SARL',
    email: 'carrier-fr@amazon.com',
    phone: '01 46 17 10 00',
    address: '67 Boulevard du Général Leclerc',
    city: 'Clichy',
    postal_code: '92110',
    siret: '487 482 235 00045',
    notes: 'Contrat national - Volume garanti 500k€/an',
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  },
  {
    id: 'demo-ent-client-2',
    name: 'Renault Groupe',
    company: 'Renault SAS',
    email: 'logistics@renault.com',
    phone: '01 76 84 04 04',
    address: '13-15 Quai le Gallo',
    city: 'Boulogne-Billancourt',
    postal_code: '92100',
    siret: '780 129 987 00078',
    notes: 'Transport pièces automobiles - flux tendus',
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  },
  {
    id: 'demo-ent-client-3',
    name: 'Decathlon Logistique',
    company: 'Decathlon France',
    email: 'transport@decathlon.com',
    phone: '03 20 33 55 00',
    address: '4 Boulevard de Mons',
    city: 'Villeneuve-d\'Ascq',
    postal_code: '59650',
    siret: '500 569 405 00034',
    notes: 'Distribution nationale articles de sport',
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  },
  {
    id: 'demo-ent-client-4',
    name: 'L\'Oréal Supply Chain',
    company: 'L\'Oréal France',
    email: 'supply@loreal.com',
    phone: '01 47 56 70 00',
    address: '41 Rue Martre',
    city: 'Clichy',
    postal_code: '92110',
    siret: '632 012 100 00023',
    notes: 'Produits cosmétiques - Contrôle température',
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  },
  {
    id: 'demo-ent-client-5',
    name: 'PSA Stellantis',
    company: 'Stellantis NV',
    email: 'logistics@stellantis.com',
    phone: '01 45 56 00 00',
    address: '2-10 Boulevard de l\'Europe',
    city: 'Poissy',
    postal_code: '78300',
    siret: '542 065 479 00089',
    notes: 'Composants automobiles - Just-in-time',
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  },
  {
    id: 'demo-ent-client-6',
    name: 'Airbus Industrie',
    company: 'Airbus SE',
    email: 'transport@airbus.com',
    phone: '05 61 93 33 33',
    address: '1 Rond-Point Maurice Bellonte',
    city: 'Blagnac',
    postal_code: '31700',
    siret: '383 474 814 00045',
    notes: 'Pièces aéronautiques - haute valeur',
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  },
  {
    id: 'demo-ent-client-7',
    name: 'Total Energies',
    company: 'TotalEnergies SE',
    email: 'logistics@totalenergies.com',
    phone: '01 47 44 45 46',
    address: '2 Place Jean Millier',
    city: 'Courbevoie',
    postal_code: '92400',
    siret: '542 051 180 00078',
    notes: 'Transport ADR - Produits pétroliers',
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  },
  {
    id: 'demo-ent-client-8',
    name: 'IKEA France',
    company: 'IKEA France SAS',
    email: 'transport@ikea.fr',
    phone: '01 60 06 26 26',
    address: 'ZI Paris Nord 2',
    city: 'Gonesse',
    postal_code: '95500',
    siret: '398 130 888 00056',
    notes: 'Mobilier - Grands volumes',
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
  },
];

const enterpriseDemoReports: LocalClientReport[] = [
  {
    id: 'demo-ent-report-1',
    client_id: 'demo-ent-client-1',
    report_type: 'itinerary',
    title: 'Clichy → Lyon Hub Amazon',
    data: {
      origin_address: 'Clichy, France',
      destination_address: 'Lyon, France',
      distance_km: 470,
      duration_hours: 4.8,
      toll_cost: 72,
      fuel_cost: 216,
      total_cost: 820,
      revenue: 1050,
      profit: 230,
      profit_margin: 21.9,
      stops: [{ address: 'Beaune, France' }],
    },
    notes: 'Navette quotidienne Amazon',
    created_at: new Date().toISOString(),
  },
  {
    id: 'demo-ent-report-2',
    client_id: 'demo-ent-client-2',
    report_type: 'itinerary',
    title: 'Boulogne → Douai Renault',
    data: {
      origin_address: 'Boulogne-Billancourt, France',
      destination_address: 'Douai, France',
      distance_km: 215,
      duration_hours: 2.5,
      toll_cost: 28,
      fuel_cost: 99,
      total_cost: 450,
      revenue: 620,
      profit: 170,
      profit_margin: 27.4,
    },
    notes: 'Pièces usine Douai',
    created_at: new Date().toISOString(),
  },
  {
    id: 'demo-ent-report-3',
    client_id: 'demo-ent-client-3',
    report_type: 'itinerary',
    title: 'Lille → Marseille National',
    data: {
      origin_address: 'Villeneuve-d\'Ascq, France',
      destination_address: 'Marseille, France',
      distance_km: 1015,
      duration_hours: 9.5,
      toll_cost: 142,
      fuel_cost: 467,
      total_cost: 1680,
      revenue: 2150,
      profit: 470,
      profit_margin: 21.9,
      stops: [{ address: 'Lyon, France' }],
    },
    notes: 'Distribution nationale Decathlon',
    created_at: new Date().toISOString(),
  },
  {
    id: 'demo-ent-report-4',
    client_id: 'demo-ent-client-6',
    report_type: 'itinerary',
    title: 'Paris → Toulouse Airbus',
    data: {
      origin_address: 'Paris, France',
      destination_address: 'Blagnac, France',
      distance_km: 680,
      duration_hours: 6.5,
      toll_cost: 95,
      fuel_cost: 313,
      total_cost: 1150,
      revenue: 1850,
      profit: 700,
      profit_margin: 37.8,
    },
    notes: 'Pièces aéronautiques urgentes',
    created_at: new Date().toISOString(),
  },
  {
    id: 'demo-ent-report-5',
    client_id: 'demo-ent-client-7',
    report_type: 'itinerary',
    title: 'Courbevoie → Le Havre ADR',
    data: {
      origin_address: 'Courbevoie, France',
      destination_address: 'Le Havre, France',
      distance_km: 210,
      duration_hours: 2.8,
      toll_cost: 32,
      fuel_cost: 97,
      total_cost: 580,
      revenue: 890,
      profit: 310,
      profit_margin: 34.8,
    },
    notes: 'Transport ADR - Prime risque incluse',
    created_at: new Date().toISOString(),
  },
];

// Enterprise demo trips - historique des trajets
const enterpriseDemoTrips: LocalTrip[] = [
  {
    id: 'demo-ent-trip-1',
    client_id: 'demo-ent-client-1',
    origin_address: 'Clichy, France',
    destination_address: 'Lyon, France',
    origin_lat: 48.903496,
    origin_lng: 2.306413,
    destination_lat: 45.764043,
    destination_lng: 4.835659,
    distance_km: 470,
    duration_minutes: 288,
    fuel_cost: 216,
    toll_cost: 72,
    driver_cost: 380,
    adblue_cost: 18,
    structure_cost: 134,
    total_cost: 820,
    revenue: 1050,
    profit: 230,
    profit_margin: 21.9,
    trip_date: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),
    status: 'completed',
    notes: 'Navette quotidienne Amazon',
    stops: [{ address: 'Beaune, France', lat: 47.0203, lon: 4.8386 }],
    vehicle_data: null,
    driver_ids: ['demo-ent-driver-1'],
    created_at: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),
    updated_at: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'demo-ent-trip-2',
    client_id: 'demo-ent-client-2',
    origin_address: 'Boulogne-Billancourt, France',
    destination_address: 'Douai, France',
    origin_lat: 48.833858,
    origin_lng: 2.240776,
    destination_lat: 50.370277,
    destination_lng: 3.078914,
    distance_km: 215,
    duration_minutes: 150,
    fuel_cost: 99,
    toll_cost: 28,
    driver_cost: 195,
    adblue_cost: 8,
    structure_cost: 120,
    total_cost: 450,
    revenue: 620,
    profit: 170,
    profit_margin: 27.4,
    trip_date: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),
    status: 'completed',
    notes: 'Pièces usine Douai',
    stops: null,
    vehicle_data: null,
    driver_ids: ['demo-ent-driver-2'],
    created_at: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),
    updated_at: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'demo-ent-trip-3',
    client_id: 'demo-ent-client-3',
    origin_address: 'Villeneuve-d\'Ascq, France',
    destination_address: 'Marseille, France',
    origin_lat: 50.628743,
    origin_lng: 3.131553,
    destination_lat: 43.296482,
    destination_lng: 5.369780,
    distance_km: 1015,
    duration_minutes: 570,
    fuel_cost: 467,
    toll_cost: 142,
    driver_cost: 720,
    adblue_cost: 40,
    structure_cost: 311,
    total_cost: 1680,
    revenue: 2150,
    profit: 470,
    profit_margin: 21.9,
    trip_date: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
    status: 'completed',
    notes: 'Distribution nationale Decathlon',
    stops: [{ address: 'Lyon, France', lat: 45.764043, lon: 4.835659 }],
    vehicle_data: null,
    driver_ids: ['demo-ent-driver-4'],
    created_at: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
    updated_at: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'demo-ent-trip-4',
    client_id: 'demo-ent-client-6',
    origin_address: 'Paris, France',
    destination_address: 'Blagnac, France',
    origin_lat: 48.856614,
    origin_lng: 2.352222,
    destination_lat: 43.621464,
    destination_lng: 1.378857,
    distance_km: 680,
    duration_minutes: 390,
    fuel_cost: 313,
    toll_cost: 95,
    driver_cost: 490,
    adblue_cost: 27,
    structure_cost: 225,
    total_cost: 1150,
    revenue: 1850,
    profit: 700,
    profit_margin: 37.8,
    trip_date: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000).toISOString(),
    status: 'completed',
    notes: 'Pièces aéronautiques urgentes',
    stops: null,
    vehicle_data: null,
    driver_ids: ['demo-ent-driver-7'],
    created_at: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000).toISOString(),
    updated_at: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'demo-ent-trip-5',
    client_id: 'demo-ent-client-7',
    origin_address: 'Courbevoie, France',
    destination_address: 'Le Havre, France',
    origin_lat: 48.896504,
    origin_lng: 2.252607,
    destination_lat: 49.494370,
    destination_lng: 0.107929,
    distance_km: 210,
    duration_minutes: 168,
    fuel_cost: 97,
    toll_cost: 32,
    driver_cost: 215,
    adblue_cost: 8,
    structure_cost: 228,
    total_cost: 580,
    revenue: 890,
    profit: 310,
    profit_margin: 34.8,
    trip_date: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(),
    status: 'completed',
    notes: 'Transport ADR - Prime risque incluse',
    stops: null,
    vehicle_data: null,
    driver_ids: ['demo-ent-driver-8'],
    created_at: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(),
    updated_at: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'demo-ent-trip-6',
    client_id: 'demo-ent-client-8',
    origin_address: 'Gonesse, France',
    destination_address: 'Bordeaux, France',
    origin_lat: 49.000000,
    origin_lng: 2.450000,
    destination_lat: 44.837789,
    destination_lng: -0.579180,
    distance_km: 580,
    duration_minutes: 360,
    fuel_cost: 267,
    toll_cost: 78,
    driver_cost: 460,
    adblue_cost: 23,
    structure_cost: 172,
    total_cost: 1000,
    revenue: 1350,
    profit: 350,
    profit_margin: 25.9,
    trip_date: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(),
    status: 'completed',
    notes: 'Mobilier IKEA grands volumes',
    stops: null,
    vehicle_data: null,
    driver_ids: ['demo-ent-driver-9'],
    created_at: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(),
    updated_at: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(),
  },
  {
    id: 'demo-ent-trip-7',
    client_id: 'demo-ent-client-4',
    origin_address: 'Clichy, France',
    destination_address: 'Nice, France',
    origin_lat: 48.903496,
    origin_lng: 2.306413,
    destination_lat: 43.710173,
    destination_lng: 7.261953,
    distance_km: 930,
    duration_minutes: 540,
    fuel_cost: 428,
    toll_cost: 132,
    driver_cost: 680,
    adblue_cost: 37,
    structure_cost: 273,
    total_cost: 1550,
    revenue: 2100,
    profit: 550,
    profit_margin: 26.2,
    trip_date: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000).toISOString(),
    status: 'completed',
    notes: 'Produits cosmétiques L\'Oréal',
    stops: [{ address: 'Lyon, France', lat: 45.764043, lon: 4.835659 }],
    vehicle_data: null,
    driver_ids: ['demo-ent-driver-5'],
    created_at: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000).toISOString(),
    updated_at: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000).toISOString(),
  },
];

// Common vehicle params for all demos
const commonVehicle: VehicleParams = {
  fuelConsumption: 32,
  fuelPriceHT: 1.48,
  fuelPriceIsHT: true,
  adBlueConsumption: 1.5,
  adBluePriceHT: 0.52,
  adBluePriceIsHT: true,
};

const commonTrip: TripCalculation = {
  distance: 500,
  tollCost: 85,
  tollIsHT: false,
  tollClass: 2,
  pricingMode: 'fixed',
  pricePerKm: 1.75,
  fixedPrice: 875,
  targetMargin: 20,
  hourlyRate: 85,
  estimatedHours: 8,
  pricePerStop: 25,
  numberOfStops: 0,
};

// Demo sessions
export const DEMO_SESSIONS: DemoSession[] = [
  {
    id: 'demo-start',
    name: 'Démo START - Artisan',
    description: 'Transporteur individuel avec 1 véhicule, 1 remorque et 2 clients réguliers',
    planType: 'start',
    drivers: startDemoDrivers,
    charges: startDemoCharges,
    vehicle: commonVehicle,
    trip: { ...commonTrip, distance: 315, tollCost: 42, fixedPrice: 680 },
    settings: {
      workingDaysPerMonth: 21,
      workingDaysPerYear: 252,
      tomtomApiKey: '',
      companyName: 'Transport Durand',
      tvaRate: 20,
      defaultDownloadPath: '',
    },
    clients: startDemoClients,
    reports: startDemoReports,
    trips: startDemoTrips,
    selectedDriverIds: ['demo-start-driver-1'],
    vehicles: startDemoVehicles,
    trailers: startDemoTrailers,
    savedTours: startDemoSavedTours,
  },
  {
    id: 'demo-pro',
    name: 'Démo PRO - PME Transport',
    description: 'PME avec 5 véhicules, 4 remorques, 5 conducteurs et portefeuille clients variés',
    planType: 'pro',
    drivers: proDemoDrivers,
    charges: proDemoCharges,
    vehicle: commonVehicle,
    trip: { ...commonTrip, distance: 465, tollCost: 68, fixedPrice: 980 },
    settings: {
      workingDaysPerMonth: 21,
      workingDaysPerYear: 252,
      tomtomApiKey: '',
      companyName: 'Transport Martin & Fils SARL',
      tvaRate: 20,
      defaultDownloadPath: '',
    },
    clients: proDemoClients,
    reports: proDemoReports,
    trips: proDemoTrips,
    selectedDriverIds: ['demo-pro-driver-1', 'demo-pro-driver-2'],
    vehicles: proDemoVehicles,
    trailers: proDemoTrailers,
    savedTours: proDemoSavedTours,
  },
  {
    id: 'demo-enterprise',
    name: 'Démo ENTERPRISE - Grand Compte',
    description: 'Entreprise multi-agences avec 10 véhicules, 10 remorques, 12 conducteurs et grands comptes nationaux',
    planType: 'enterprise',
    drivers: enterpriseDemoDrivers,
    charges: enterpriseDemoCharges,
    vehicle: { ...commonVehicle, fuelConsumption: 31 },
    trip: { ...commonTrip, distance: 680, tollCost: 95, fixedPrice: 1850 },
    settings: {
      workingDaysPerMonth: 22,
      workingDaysPerYear: 264,
      tomtomApiKey: '',
      companyName: 'TransEurope Logistics SAS',
      tvaRate: 20,
      defaultDownloadPath: '',
    },
    clients: enterpriseDemoClients,
    reports: enterpriseDemoReports,
    trips: enterpriseDemoTrips,
    selectedDriverIds: ['demo-ent-driver-1', 'demo-ent-driver-4', 'demo-ent-driver-7'],
    vehicles: enterpriseDemoVehicles,
    trailers: enterpriseDemoTrailers,
    savedTours: enterpriseDemoSavedTours,
  },
];

export const getDemoSession = (planType: 'start' | 'pro' | 'enterprise'): DemoSession | undefined => {
  return DEMO_SESSIONS.find(session => session.planType === planType);
};
